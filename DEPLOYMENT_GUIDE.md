# 🚀 Production Deployment Guide

## 🔍 **Enhanced Security & Validation Features**

### **Transfer Limits & Fraud Detection**
- ✅ **Daily Transfer Limit**: $10,000 per account
- ✅ **Hourly Transfer Limit**: $15,000 per account
- ✅ **New Account Limit**: $5,000 for accounts < 30 days old
- ✅ **Minimum Transfer**: $0.01
- ✅ **Round Amount Detection**: Flags suspicious round amounts > $1,000
- ✅ **Weekend Alert**: Monitors large weekend transactions
- ✅ **Self-Transfer Tracking**: Logs transfers between user's own accounts
- ✅ **Comprehensive Audit Logging**: All activities logged with fraud alerts

## 🐳 **Docker Containerization**

### **Local Docker Setup**
```bash
# Start with Docker Compose
./docker-start.sh

# Or manually
docker-compose up --build -d
```

### **Production Docker Features**
- ✅ Multi-stage builds for optimized images
- ✅ Health checks for all services
- ✅ Environment variable configuration
- ✅ Volume persistence for database
- ✅ Network isolation
- ✅ Auto-restart policies

## 🚂 **Railway Deployment (Backend)**

### **Prerequisites**
```bash
# Install Railway CLI
npm install -g @railway/cli

# Login to Railway
railway login
```

### **Deploy to Railway**
```bash
# Automated deployment
./deploy-railway.sh

# Manual deployment
railway init
railway add --database mysql
railway up
```

### **Environment Variables (Railway)**
```bash
SPRING_PROFILES_ACTIVE=production
JWT_SECRET=<auto-generated-secure-key>
MYSQL_DATABASE=online_banking
MYSQL_USER=banking_user
MYSQL_PASSWORD=<secure-password>
DAILY_TRANSFER_LIMIT=10000.00
HOURLY_TRANSFER_LIMIT=15000.00
FRAUD_DETECTION_ENABLED=true
```

## ▲ **Vercel Deployment (Frontend)**

### **Prerequisites**
```bash
# Install Vercel CLI
npm install -g vercel

# Login to Vercel
vercel login
```

### **Deploy to Vercel**
```bash
# Automated deployment
./deploy-vercel.sh

# Manual deployment
cd frontend
vercel --prod
```

### **Environment Variables (Vercel)**
```bash
VITE_API_BASE_URL=https://your-railway-app.railway.app/api
```

## ☁️ **AWS Lightsail Deployment (Alternative)**

### **Prerequisites**
```bash
# Install AWS CLI
# https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html

# Configure AWS credentials
aws configure
```

### **Deploy to AWS Lightsail**
```bash
# Automated deployment
./deploy-aws-lightsail.sh

# Manual deployment steps in the script
```

## 🔧 **Production Configuration**

### **Backend Configuration** (`application-production.yml`)
- ✅ MySQL connection pooling
- ✅ Optimized JPA settings
- ✅ Security headers
- ✅ Compression enabled
- ✅ Health checks
- ✅ Metrics and monitoring
- ✅ Structured logging

### **Frontend Configuration**
- ✅ Environment-based API URLs
- ✅ Production build optimization
- ✅ Static asset caching
- ✅ SPA routing support

## 📊 **Monitoring & Health Checks**

### **Backend Health Endpoints**
- `/api/actuator/health` - Application health
- `/api/actuator/metrics` - Application metrics
- `/api/actuator/info` - Application info

### **Database Health**
- Connection pool monitoring
- Query performance tracking
- Transaction monitoring

## 🔒 **Security Features**

### **Authentication & Authorization**
- JWT token-based authentication
- Role-based access control (USER/ADMIN)
- Token expiration handling
- Secure password hashing (BCrypt)

### **Fraud Detection**
- Real-time transaction monitoring
- Suspicious pattern detection
- Automated alerts and logging
- Transfer limit enforcement

### **Data Protection**
- Input validation and sanitization
- SQL injection prevention
- XSS protection
- CORS configuration

## 📋 **Deployment Checklist**

### **Pre-Deployment**
- [ ] Update environment variables
- [ ] Test all API endpoints
- [ ] Verify database connections
- [ ] Check security configurations
- [ ] Review transfer limits
- [ ] Test fraud detection

### **Railway Backend Deployment**
- [ ] Install Railway CLI
- [ ] Login to Railway account
- [ ] Run `./deploy-railway.sh`
- [ ] Verify deployment health
- [ ] Test API endpoints
- [ ] Check database connectivity

### **Vercel Frontend Deployment**
- [ ] Install Vercel CLI
- [ ] Update API URL in environment
- [ ] Run `./deploy-vercel.sh`
- [ ] Test frontend functionality
- [ ] Verify API integration

### **Post-Deployment**
- [ ] Test complete user flows
- [ ] Verify admin functionality
- [ ] Test transfer limits
- [ ] Check fraud detection
- [ ] Monitor application logs
- [ ] Set up monitoring alerts

## 🎯 **Testing Production Deployment**

### **Functional Tests**
1. **User Registration & Login**
2. **Account Creation** (all types)
3. **Fund Transfers** (within limits)
4. **Transfer Limit Validation**
5. **Fraud Detection Triggers**
6. **PDF Statement Generation**
7. **Admin Panel Access**
8. **Audit Log Verification**

### **Security Tests**
1. **JWT Token Validation**
2. **Role-based Access Control**
3. **Transfer Limit Enforcement**
4. **Fraud Detection Alerts**
5. **Input Validation**
6. **SQL Injection Prevention**

## 🔧 **Troubleshooting**

### **Common Issues**
1. **Database Connection**: Check environment variables
2. **CORS Errors**: Verify frontend API URL
3. **JWT Errors**: Ensure secret key is 256+ bits
4. **Transfer Failures**: Check fraud detection logs
5. **Health Check Failures**: Verify service startup

### **Monitoring Commands**
```bash
# Railway
railway logs
railway status

# Vercel
vercel logs
vercel inspect

# AWS Lightsail
aws lightsail get-container-services
aws lightsail get-container-service-deployments
```

## 🎉 **Success Metrics**

After successful deployment, you should have:
- ✅ Secure, scalable backend on Railway/AWS
- ✅ Fast, responsive frontend on Vercel
- ✅ Complete banking functionality
- ✅ Fraud detection and monitoring
- ✅ Comprehensive audit logging
- ✅ Production-ready security
- ✅ Health monitoring and alerts

Your online banking system is now production-ready with enterprise-level security and monitoring!
