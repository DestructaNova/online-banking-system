# ğŸš€ Production Deployment Guide

## ğŸ” **Enhanced Security & Validation Features**

### **Transfer Limits & Fraud Detection**
- âœ… **Daily Transfer Limit**: $10,000 per account
- âœ… **Hourly Transfer Limit**: $15,000 per account
- âœ… **New Account Limit**: $5,000 for accounts < 30 days old
- âœ… **Minimum Transfer**: $0.01
- âœ… **Round Amount Detection**: Flags suspicious round amounts > $1,000
- âœ… **Weekend Alert**: Monitors large weekend transactions
- âœ… **Self-Transfer Tracking**: Logs transfers between user's own accounts
- âœ… **Comprehensive Audit Logging**: All activities logged with fraud alerts

## ğŸ³ **Docker Containerization**

### **Local Docker Setup**
```bash
# Start with Docker Compose
./docker-start.sh

# Or manually
docker-compose up --build -d
```

### **Production Docker Features**
- âœ… Multi-stage builds for optimized images
- âœ… Health checks for all services
- âœ… Environment variable configuration
- âœ… Volume persistence for database
- âœ… Network isolation
- âœ… Auto-restart policies

## ğŸš‚ **Railway Deployment (Backend)**

### **Prerequisites**
```bash
# Install Railway CLI
npm install -g @railway/cli

# Login to Railway
railway login
```

### **Deploy to Railway**
```bash
# Automated deployment
./deploy-railway.sh

# Manual deployment
railway init
railway add --database mysql
railway up
```

### **Environment Variables (Railway)**
```bash
SPRING_PROFILES_ACTIVE=production
JWT_SECRET=<auto-generated-secure-key>
MYSQL_DATABASE=online_banking
MYSQL_USER=banking_user
MYSQL_PASSWORD=<secure-password>
DAILY_TRANSFER_LIMIT=10000.00
HOURLY_TRANSFER_LIMIT=15000.00
FRAUD_DETECTION_ENABLED=true
```

## â–² **Vercel Deployment (Frontend)**

### **Prerequisites**
```bash
# Install Vercel CLI
npm install -g vercel

# Login to Vercel
vercel login
```

### **Deploy to Vercel**
```bash
# Automated deployment
./deploy-vercel.sh

# Manual deployment
cd frontend
vercel --prod
```

### **Environment Variables (Vercel)**
```bash
VITE_API_BASE_URL=https://your-railway-app.railway.app/api
```

## â˜ï¸ **AWS Lightsail Deployment (Alternative)**

### **Prerequisites**
```bash
# Install AWS CLI
# https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html

# Configure AWS credentials
aws configure
```

### **Deploy to AWS Lightsail**
```bash
# Automated deployment
./deploy-aws-lightsail.sh

# Manual deployment steps in the script
```

## ğŸ”§ **Production Configuration**

### **Backend Configuration** (`application-production.yml`)
- âœ… MySQL connection pooling
- âœ… Optimized JPA settings
- âœ… Security headers
- âœ… Compression enabled
- âœ… Health checks
- âœ… Metrics and monitoring
- âœ… Structured logging

### **Frontend Configuration**
- âœ… Environment-based API URLs
- âœ… Production build optimization
- âœ… Static asset caching
- âœ… SPA routing support

## ğŸ“Š **Monitoring & Health Checks**

### **Backend Health Endpoints**
- `/api/actuator/health` - Application health
- `/api/actuator/metrics` - Application metrics
- `/api/actuator/info` - Application info

### **Database Health**
- Connection pool monitoring
- Query performance tracking
- Transaction monitoring

## ğŸ”’ **Security Features**

### **Authentication & Authorization**
- JWT token-based authentication
- Role-based access control (USER/ADMIN)
- Token expiration handling
- Secure password hashing (BCrypt)

### **Fraud Detection**
- Real-time transaction monitoring
- Suspicious pattern detection
- Automated alerts and logging
- Transfer limit enforcement

### **Data Protection**
- Input validation and sanitization
- SQL injection prevention
- XSS protection
- CORS configuration

## ğŸ“‹ **Deployment Checklist**

### **Pre-Deployment**
- [ ] Update environment variables
- [ ] Test all API endpoints
- [ ] Verify database connections
- [ ] Check security configurations
- [ ] Review transfer limits
- [ ] Test fraud detection

### **Railway Backend Deployment**
- [ ] Install Railway CLI
- [ ] Login to Railway account
- [ ] Run `./deploy-railway.sh`
- [ ] Verify deployment health
- [ ] Test API endpoints
- [ ] Check database connectivity

### **Vercel Frontend Deployment**
- [ ] Install Vercel CLI
- [ ] Update API URL in environment
- [ ] Run `./deploy-vercel.sh`
- [ ] Test frontend functionality
- [ ] Verify API integration

### **Post-Deployment**
- [ ] Test complete user flows
- [ ] Verify admin functionality
- [ ] Test transfer limits
- [ ] Check fraud detection
- [ ] Monitor application logs
- [ ] Set up monitoring alerts

## ğŸ¯ **Testing Production Deployment**

### **Functional Tests**
1. **User Registration & Login**
2. **Account Creation** (all types)
3. **Fund Transfers** (within limits)
4. **Transfer Limit Validation**
5. **Fraud Detection Triggers**
6. **PDF Statement Generation**
7. **Admin Panel Access**
8. **Audit Log Verification**

### **Security Tests**
1. **JWT Token Validation**
2. **Role-based Access Control**
3. **Transfer Limit Enforcement**
4. **Fraud Detection Alerts**
5. **Input Validation**
6. **SQL Injection Prevention**

## ğŸ”§ **Troubleshooting**

### **Common Issues**
1. **Database Connection**: Check environment variables
2. **CORS Errors**: Verify frontend API URL
3. **JWT Errors**: Ensure secret key is 256+ bits
4. **Transfer Failures**: Check fraud detection logs
5. **Health Check Failures**: Verify service startup

### **Monitoring Commands**
```bash
# Railway
railway logs
railway status

# Vercel
vercel logs
vercel inspect

# AWS Lightsail
aws lightsail get-container-services
aws lightsail get-container-service-deployments
```

## ğŸ‰ **Success Metrics**

After successful deployment, you should have:
- âœ… Secure, scalable backend on Railway/AWS
- âœ… Fast, responsive frontend on Vercel
- âœ… Complete banking functionality
- âœ… Fraud detection and monitoring
- âœ… Comprehensive audit logging
- âœ… Production-ready security
- âœ… Health monitoring and alerts

Your online banking system is now production-ready with enterprise-level security and monitoring!
